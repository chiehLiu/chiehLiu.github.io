<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="author" content="Chieh Liu"><title>實作練習-Youtube Search Engine | Chieh Liu&#39;s Blog</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><script src="/js/script.js"></script><script src="/js/tocbot.min.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Chieh Liu's Blog" type="application/atom+xml">
</head><body><div class="wrapper"><header><nav class="navbar"><div class="container"><div class="navbar-header header-logo"><a href="/">Chieh Liu&#39;s Blog</a></div><div class="menu navbar-right"><a class="menu-item" href="/archives">Posts</a> <a class="menu-item" href="/category">Categories</a> <a class="menu-item" href="/tag">Tags</a> <a class="menu-item" href="/about">About</a> <input id="switch_default" type="checkbox" class="switch_default"> <label for="switch_default" class="toggleBtn"></label></div></div></nav><nav class="navbar-mobile" id="nav-mobile"><div class="container"><div class="navbar-header"><div><a href="/">Chieh Liu&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a></div><div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div></div><div class="menu" id="mobile-menu"><a class="menu-item" href="/archives">Posts</a> <a class="menu-item" href="/category">Categories</a> <a class="menu-item" href="/tag">Tags</a> <a class="menu-item" href="/about">About</a></div></div></nav></header><script>var mobileBtn=function(){var e=document.getElementsByClassName("menu-toggle")[0],t=document.getElementById("mobile-menu");e.classList.contains("active")?(e.classList.remove("active"),t.classList.remove("active")):(e.classList.add("active"),t.classList.add("active"))}</script><div class="main"><div class="container"><div class="post-toc"><div class="tocbot-list"></div><div class="tocbot-list-menu"><a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a> <a onclick="go_top()">Back to top</a> <a onclick="go_bottom()">Go to bottom</a></div></div><script>function expand_toc(){var o=document.querySelector(".tocbot-toc-expand");tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:6,orderedList:!1,scrollSmooth:!0}),o.setAttribute("onclick","collapse_toc()"),o.innerHTML="Collapse all"}function collapse_toc(){var o=document.querySelector(".tocbot-toc-expand");tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:1,orderedList:!1,scrollSmooth:!0}),o.setAttribute("onclick","expand_toc()"),o.innerHTML="Expand all"}function go_top(){window.scrollTo(0,0)}function go_bottom(){window.scrollTo(0,document.body.scrollHeight)}document.ready((function(){tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:1,orderedList:!1,scrollSmooth:!0})}))</script><article class="post-wrap"><header class="post-header"><h1 class="post-title">實作練習-Youtube Search Engine</h1><div class="post-meta">Author: <a itemprop="author" rel="author" href="/">Chieh Liu</a> <span class="post-time">Date: <a href="#">February 27, 2021&nbsp;&nbsp;2:11:36</a> </span><span class="post-category">Category: <a href="/categories/Javascript%E4%BD%9C%E5%93%81/">Javascript作品</a></span></div></header><div class="post-content"><h1 id="Youtube-Search-Engine-youtube-API"><a href="#Youtube-Search-Engine-youtube-API" class="headerlink" title="Youtube Search Engine - youtube API"></a>Youtube Search Engine - youtube API</h1><hr><h2 id="tags-Javascript-relate"><a href="#tags-Javascript-relate" class="headerlink" title="tags: Javascript relate"></a>tags: Javascript relate</h2><h6 id="tags-Javascript"><a href="#tags-Javascript" class="headerlink" title="tags: Javascript"></a>tags: <code>Javascript</code></h6><h1 id="製作一個-Youtube-影片搜尋網頁"><a href="#製作一個-Youtube-影片搜尋網頁" class="headerlink" title="製作一個 Youtube 影片搜尋網頁"></a>製作一個 Youtube 影片搜尋網頁</h1><h2 id="成品"><a href="#成品" class="headerlink" title="成品:"></a>成品:</h2><p><img src="https://i.imgur.com/A8eMNIt.png"></p><p><a target="_blank" rel="noopener" href="https://chiehliu.github.io/git-projects/YoutubeSearchEngine/index.html">成品網址</a></p><h2 id="成品功能"><a href="#成品功能" class="headerlink" title="成品功能:"></a>成品功能:</h2><ol><li>搜尋欄位可以輸入內容並且有 Search 按鈕</li><li>把找到符合輸入內容的影片五篇呈現在下方</li><li>下一頁的按鈕如果還有更多需要內容呈現</li><li>上一頁的按鈕可以回到前五篇的內容</li><li>點擊超連結(圖片以及標題)會在當前頁面直接跳出影片視窗並且有關閉按鈕(iframe)</li></ol><h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="html-程式碼"><a href="#html-程式碼" class="headerlink" title="html 程式碼:"></a>html 程式碼:</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>YouTube Search Engine<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 來自fansybox官網 --&gt;</span></span><br><span class="line">    &lt;link</span><br><span class="line">      rel=&quot;stylesheet&quot;</span><br><span class="line">      href=&quot;https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;navbar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.youtube.com/&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>YouTube<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> Search</span><br><span class="line">        Engine</span><br><span class="line">      <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;inputval&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search...&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btngetval&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search-btn btn&quot;</span>&gt;</span>Search<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;results&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 這邊的年份等下做JS動態處理年年更新 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Copyright © <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;year&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>, All Rights Reserved<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.5.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 取得年分 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">&quot;#year&quot;</span>).text(<span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear());</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 來自fancybox官網 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 來自fancybox官方文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">&quot;[data-fancybox]&quot;</span>).fancybox(&#123;</span></span><br><span class="line"><span class="javascript">        toolbar: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">        smallBtn: <span class="literal">true</span>,</span></span><br><span class="line">        iframe: &#123;</span><br><span class="line"><span class="javascript">          preload: <span class="literal">false</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS:"></a>CSS:</h1><h2 id="CSS-完整程式碼"><a href="#CSS-完整程式碼" class="headerlink" title="CSS 完整程式碼"></a>CSS 完整程式碼</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> url(<span class="string">&quot;https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&amp;display=swap&quot;</span>);</span><br><span class="line"></span><br><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: end;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="comment">/* 這邊設置高度讓他滿版 */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#1d1d1d</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dedede</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Lato&quot;</span>, sans-serif;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#06c5a9</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#06c5a9</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">700px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: stretch;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.search</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">148px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">113px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">border</span>: solid <span class="number">1px</span> <span class="built_in">rgb</span>(<span class="number">58</span>, <span class="number">57</span>, <span class="number">57</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">section</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 全部強制斷行 */</span></span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 全域的按鈕長相 */</span></span><br><span class="line">* <span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#444451</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dedede</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#31312f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">footer</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#31312f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>小補充:</p><p>無</p><h1 id="JS"><a href="#JS" class="headerlink" title="JS:"></a>JS:</h1><h2 id="取得-Youtube-API-可以操作使用的-url"><a href="#取得-Youtube-API-可以操作使用的-url" class="headerlink" title="取得 Youtube API 可以操作使用的 url"></a>取得 Youtube API 可以操作使用的 url</h2><p><a target="_blank" rel="noopener" href="https://orow.github.io/2019/03/17/Youtube-Data-API/">參考網址: Youtube Data API - Search Engine</a></p><p>可以從這邊設定你想要添加的屬性並且操作看看會取得的網址內容且不會消耗配額<br><a target="_blank" rel="noopener" href="https://developers.google.com/youtube/v3/docs/search/list">Data API 官方文件 - Try this API</a></p><p>針對這個專案我選用:<br>part: snippet(這個基本上就是我們需要的)</p><p>這邊不要勾 google oauth2.0<br><img src="https://i.imgur.com/391HfLY.png"></p><p>基本上就可以符合這個專案的需求瞜!<br><img src="https://i.imgur.com/ImoLbAV.png"></p><h2 id="url-回傳資料操作"><a href="#url-回傳資料操作" class="headerlink" title="url 回傳資料操作"></a>url 回傳資料操作</h2><p>需要操作的屬性標註在下方圖片中把他們貼到 DOM 就可以搂!</p><p><img src="https://i.imgur.com/EH4BHYn.png"></p><h2 id="變數設置"><a href="#變數設置" class="headerlink" title="變數設置"></a>變數設置</h2><ul><li>nextPageToken - 是換頁最重要的內容必須嵌入網址中</li><li>prevPageToken - 同上</li><li>q - 所有 function 都必須抓取搜尋欄的內容並且必須一致</li><li>output - 把 DOM 的內容貼進去再去做<code>append()</code>,<code>html()</code></li><li>DOM 的變數設置 - 處理資料並且針對屬性去做抓取的動作</li></ul><h2 id="functions"><a href="#functions" class="headerlink" title="functions:"></a>functions:</h2><ul><li>getVideoData(q) -功能:呈現搜尋內容</li></ul><p>使用<code>.ajax()</code>的 GET 方法取得 url 回傳的資料(url 部分必須嵌入參數讓其可以動態改變)</p><p>注意:</p><ol><li>datatype:必須填入 json</li><li>網址後方的 id key 要記得填入</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    url: <span class="string">`</span></span><br><span class="line"><span class="string">    https://youtube.googleapis.com/youtube/v3/search?part=snippet&amp;channelType=any&amp;order=relevance&amp;q=<span class="subst">$&#123;q&#125;</span>&amp;type=video&amp;videoCaption=any&amp;videoEmbeddable=any&amp;videoLicense=any&amp;videoType=any&amp;prettyPrint=true&amp;key=AIzaSyDNdqNoZCYqxEJ0nHKh3BWO7Yxc7fLLH2I`</span>,</span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br></pre></td></tr></table></figure><p>下一步在<code>.ajax()</code>屬性<code>sucess</code>中把回傳的資料處理並且<code>forEach</code>上去 DOM 上面</p><p>最後處理按鈕:</p><p>所有的頁面回傳資料都會包含上、下一頁的 token(如果有的話，沒有會回傳 undefined)，</p><hr><ul><li>nextPage() - 功能:呈現下一頁內容</li></ul><p>跟<code>getVideoData(q)</code>功能幾乎一樣，但是因為是下一頁所以必須以動態的方式抓取 token 以及 q，<br>頁面的 token 已經被傳入按鈕中，所以使用<code>.data()</code>的方式抓取資料(下方有補充資料)並且傳入 url 中，並且一樣會產出頁面 token(因為一樣得輸出上下頁按鈕)並且輸入到<code>getBtn(nextPageToken, prevPageToken)</code>讓下一頁可以吃到 token</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    url: <span class="string">`</span></span><br><span class="line"><span class="string">    https://youtube.googleapis.com/youtube/v3/search?part=snippet&amp;channelType=any&amp;order=relevance&amp;pageToken=<span class="subst">$&#123;nextPageToken&#125;</span>&amp;q=<span class="subst">$&#123;q&#125;</span>&amp;type=video&amp;videoCaption=any&amp;videoEmbeddable=any&amp;videoLicense=any&amp;videoType=any&amp;prettyPrint=true&amp;key=AIzaSyDNdqNoZCYqxEJ0nHKh3BWO7Yxc7fLLH2I`</span>,</span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br></pre></td></tr></table></figure><ul><li>prevPage() - 功能:呈現上一頁內容</li></ul><p>功能內容同上，只需要更改參數名稱</p><ul><li>getBtn(nextPageToken, prevPageToken) - 功能:製造按鈕</li></ul><ol><li>按鈕傳遞上一頁/下一頁的 token</li><li>使用判斷是來決定呈現什麼按鈕</li><li>一樣必須定義 q 是搜尋欄輸入的內容</li><li>使用<code>onclick</code>把換頁以及搜尋參數傳入<code>nextPage()</code>,<code>prevPage()</code> function 內</li></ol><h2 id="事件監聽"><a href="#事件監聽" class="headerlink" title="事件監聽"></a>事件監聽</h2><p>功能:取得 input 的值並且輸入 getVideoData(q)內</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 功能:取得input的值並且輸入getVideoData(q)內</span></span><br><span class="line">$(<span class="string">&quot;#btngetval&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="keyword">let</span> q = $(<span class="string">&quot;#inputval&quot;</span>).val();</span><br><span class="line">  getVideoData(q);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="iframe-使用"><a href="#iframe-使用" class="headerlink" title="iframe 使用"></a>iframe 使用</h2><h3 id="html-引入-iframe"><a href="#html-引入-iframe" class="headerlink" title="html 引入 iframe"></a>html 引入 iframe</h3><p><a target="_blank" rel="noopener" href="https://cdnjs.com/libraries/fancybox">iframe 引用網址</a><br><a target="_blank" rel="noopener" href="http://fancyapps.com/fancybox/3/docs/#iframe">iframe 官方文件</a></p><p>最上方引入 iframe 的 CSS 設定一定在官網可以找到</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 來自fansybox官網 --&gt;</span></span><br><span class="line">    &lt;link</span><br><span class="line">      rel=&quot;stylesheet&quot;</span><br><span class="line">      href=&quot;https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css&quot;</span><br><span class="line">    /&gt;</span><br></pre></td></tr></table></figure><p>直接擺入 html 最下方來引入(跟 jQuery 或是 js 檔案引入位置相同)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 來自fancybox官網 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 來自fancybox官方文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  $(<span class="string">&quot;[data-fancybox]&quot;</span>).fancybox(&#123;</span></span><br><span class="line"><span class="javascript">    toolbar: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">    smallBtn: <span class="literal">true</span>,</span></span><br><span class="line">    iframe: &#123;</span><br><span class="line"><span class="javascript">      preload: <span class="literal">false</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="針對頁面超連結的部份"><a href="#針對頁面超連結的部份" class="headerlink" title="針對頁面超連結的部份"></a>針對頁面超連結的部份</h3><p>最後面的部份是 videoId 可以在 id 內找到(這邊是 sucess 後回傳的資料)<br><img src="https://i.imgur.com/mBBBWyj.png"></p><p>使用這串就可以把它們嵌入 iframe 內<br><code>https://www.youtube.com/embed/$&#123;vid.id.videoId&#125;</code></p><p>並且按照這個模式操作 iframe 的區塊</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a data-fancybox data-type=<span class="string">&quot;iframe&quot;</span> data-src=<span class="string">&quot;https://www.youtube.com/embed/$&#123;vid.id.videoId&#125;&quot;</span> href=<span class="string">&quot;javascript:;&quot;</span>&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><h2 id="小補充"><a href="#小補充" class="headerlink" title="小補充"></a>小補充</h2><p><a target="_blank" rel="noopener" href="https://api.jquery.com/data/">.data() - 官方文件</a></p><p><a target="_blank" rel="noopener" href="https://api.jquery.com/jQuery.ajax/">.ajax() - 官方文件</a></p><h2 id="JS-完整程式碼"><a href="#JS-完整程式碼" class="headerlink" title="JS 完整程式碼:"></a>JS 完整程式碼:</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 功能:取得input的值並且輸入getVideoData(q)內</span></span><br><span class="line">$(<span class="string">&quot;#btngetval&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  <span class="keyword">let</span> q = $(<span class="string">&quot;#inputval&quot;</span>).val();</span><br><span class="line">  getVideoData(q);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 功能:呈現搜尋內容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 把輸入的資料來搜尋影片使用$.ajax()</span></span><br><span class="line"><span class="comment">// 網址中的參數是輸入的內容成功載入資料後會跑func sucess</span></span><br><span class="line"><span class="comment">// 處理得到的資料並且forEach到DOM上面</span></span><br><span class="line"><span class="comment">// 取出當前網址的下一頁/上一頁的token並且賦予變數並且傳到getBtn裡面</span></span><br><span class="line"><span class="comment">// 把取得到頁面token以及DOM內容分別貼上HTML</span></span><br><span class="line"><span class="comment">// iframe 的使用格式得參照官網 頗複雜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVideoData</span>(<span class="params">q</span>) </span>&#123;</span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    url: <span class="string">`</span></span><br><span class="line"><span class="string">    https://youtube.googleapis.com/youtube/v3/search?part=snippet&amp;channelType=any&amp;order=relevance&amp;q=<span class="subst">$&#123;q&#125;</span>&amp;type=video&amp;videoCaption=any&amp;videoEmbeddable=any&amp;videoLicense=any&amp;videoType=any&amp;prettyPrint=true&amp;key=AIzaSyDNdqNoZCYqxEJ0nHKh3BWO7Yxc7fLLH2I`</span>,</span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> videos = res.items;</span><br><span class="line">      <span class="keyword">let</span> nextPageToken = res.nextPageToken;</span><br><span class="line">      <span class="keyword">let</span> prevPageToken = res.prevPageToken;</span><br><span class="line">      <span class="keyword">let</span> output = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">      [...videos].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">vid</span>) </span>&#123;</span><br><span class="line">        output += <span class="string">`&lt;section class=&quot;video-area&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;img&quot;&gt;</span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;img src=&quot;<span class="subst">$&#123;vid.snippet.thumbnails.<span class="keyword">default</span>.url&#125;</span>&quot;</span></span><br><span class="line"><span class="string">                  /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;div class=&quot;text&quot;&gt;</span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;h3&gt;<span class="subst">$&#123;vid.snippet.title&#125;</span>&lt;/h3&gt;&lt;/a</span></span><br><span class="line"><span class="string">                  &gt;&lt;small&gt;By &lt;span&gt; <span class="subst">$&#123;vid.snippet.channelTitle&#125;</span> &lt;/span&gt; on <span class="subst">$&#123;vid.snippet.publishedAt&#125;</span>&lt;/small&gt;</span></span><br><span class="line"><span class="string">                  &lt;p&gt;<span class="subst">$&#123;vid.snippet.description&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;/section&gt;</span></span><br><span class="line"><span class="string">              `</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//貼上搜尋到的結果</span></span><br><span class="line">        $(<span class="string">&quot;.results&quot;</span>).html(output);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// // 加入下一頁按鈕</span></span><br><span class="line">        <span class="keyword">let</span> btn = getBtn(nextPageToken, prevPageToken);</span><br><span class="line">        $(<span class="string">&quot;.buttons&quot;</span>).html(btn);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 功能:呈現下一頁內容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 功能跟getVideoData()類似</span></span><br><span class="line"><span class="comment">// 從getBtn()取得當前的q以及nextPageToken來跑下一個頁面的資料出來</span></span><br><span class="line"><span class="comment">// 清空最初的搜尋內容並且forEach下一頁的內容上去DOM</span></span><br><span class="line"><span class="comment">// 一樣得取出當前網址的下一頁/上一頁的token並且賦予變數並且傳到getBtn裡面(因為每個下一頁都可能會有上一頁/下一頁)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> nextPageToken = $(<span class="string">&quot;#next-button&quot;</span>).data(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> q = $(<span class="string">&quot;#next-button&quot;</span>).data(<span class="string">&quot;query&quot;</span>);</span><br><span class="line"></span><br><span class="line">  q = $(<span class="string">&quot;#inputval&quot;</span>).val();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 清空內容</span></span><br><span class="line">  $(<span class="string">&quot;.results&quot;</span>).html(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  $(<span class="string">&quot;.buttons&quot;</span>).html(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    url: <span class="string">`</span></span><br><span class="line"><span class="string">    https://youtube.googleapis.com/youtube/v3/search?part=snippet&amp;channelType=any&amp;order=relevance&amp;pageToken=<span class="subst">$&#123;nextPageToken&#125;</span>&amp;q=<span class="subst">$&#123;q&#125;</span>&amp;type=video&amp;videoCaption=any&amp;videoEmbeddable=any&amp;videoLicense=any&amp;videoType=any&amp;prettyPrint=true&amp;key=AIzaSyDNdqNoZCYqxEJ0nHKh3BWO7Yxc7fLLH2I`</span>,</span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> nextPageToken = data.nextPageToken;</span><br><span class="line">      <span class="keyword">let</span> prevPageToken = data.prevPageToken;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Log Data</span></span><br><span class="line">      <span class="keyword">let</span> res = data.items;</span><br><span class="line">      <span class="keyword">let</span> output = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">      [...res].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">vid</span>) </span>&#123;</span><br><span class="line">        output += <span class="string">`&lt;section class=&quot;video-area&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;img&quot;&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;img src=&quot;<span class="subst">$&#123;vid.snippet.thumbnails.<span class="keyword">default</span>.url&#125;</span>&quot;</span></span><br><span class="line"><span class="string">                  /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;div class=&quot;text&quot;&gt;</span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;h3&gt;<span class="subst">$&#123;vid.snippet.title&#125;</span>&lt;/h3&gt;&lt;/a</span></span><br><span class="line"><span class="string">                  &gt;&lt;small&gt;By &lt;span&gt; <span class="subst">$&#123;vid.snippet.channelTitle&#125;</span> &lt;/span&gt; on <span class="subst">$&#123;vid.snippet.publishedAt&#125;</span>&lt;/small&gt;</span></span><br><span class="line"><span class="string">                  &lt;p&gt;<span class="subst">$&#123;vid.snippet.description&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;/section&gt;</span></span><br><span class="line"><span class="string">              `</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> btn = getBtn(nextPageToken, prevPageToken);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//貼上下一頁的搜尋結果</span></span><br><span class="line">        $(<span class="string">&quot;.results&quot;</span>).html(output);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Display Buttons</span></span><br><span class="line">        $(<span class="string">&quot;.buttons&quot;</span>).html(btn);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 功能:呈現上一頁內容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本上跟netxPage()功能一樣指示修改參數名稱</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prevPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> prevPageToken = $(<span class="string">&quot;#prev-button&quot;</span>).data(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> q = $(<span class="string">&quot;#next-button&quot;</span>).data(<span class="string">&quot;query&quot;</span>);</span><br><span class="line"></span><br><span class="line">  q = $(<span class="string">&quot;#inputval&quot;</span>).val();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 清空內容</span></span><br><span class="line">  $(<span class="string">&quot;.results&quot;</span>).html(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  $(<span class="string">&quot;.buttons&quot;</span>).html(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    type: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">    url: <span class="string">`</span></span><br><span class="line"><span class="string">    https://youtube.googleapis.com/youtube/v3/search?part=snippet&amp;channelType=any&amp;order=relevance&amp;pageToken=<span class="subst">$&#123;prevPageToken&#125;</span>&amp;q=<span class="subst">$&#123;q&#125;</span>&amp;type=video&amp;videoCaption=any&amp;videoEmbeddable=any&amp;videoLicense=any&amp;videoType=any&amp;prettyPrint=true&amp;key=AIzaSyDNdqNoZCYqxEJ0nHKh3BWO7Yxc7fLLH2I`</span>,</span><br><span class="line">    dataType: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> nextPageToken = data.nextPageToken;</span><br><span class="line">      <span class="keyword">let</span> prevPageToken = data.prevPageToken;</span><br><span class="line">      <span class="keyword">let</span> res = data.items;</span><br><span class="line">      <span class="keyword">let</span> output = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">      [...res].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">vid</span>) </span>&#123;</span><br><span class="line">        output += <span class="string">`&lt;section class=&quot;video-area&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;img&quot;&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;img src=&quot;<span class="subst">$&#123;vid.snippet.thumbnails.<span class="keyword">default</span>.url&#125;</span>&quot;</span></span><br><span class="line"><span class="string">                  /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;div class=&quot;text&quot;&gt;</span></span><br><span class="line"><span class="string">                  &lt;a data-fancybox data-type=&quot;iframe&quot; data-src=&quot;https://www.youtube.com/embed/<span class="subst">$&#123;vid.id.videoId&#125;</span>&quot; href=&quot;javascript:;&quot;</span></span><br><span class="line"><span class="string">                    &gt;&lt;h3&gt;<span class="subst">$&#123;vid.snippet.title&#125;</span>&lt;/h3&gt;&lt;/a</span></span><br><span class="line"><span class="string">                  &gt;&lt;small&gt;By &lt;span&gt; <span class="subst">$&#123;vid.snippet.channelTitle&#125;</span> &lt;/span&gt; on <span class="subst">$&#123;vid.snippet.publishedAt&#125;</span>&lt;/small&gt;</span></span><br><span class="line"><span class="string">                  &lt;p&gt;<span class="subst">$&#123;vid.snippet.description&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;/section&gt;</span></span><br><span class="line"><span class="string">              `</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> btn = getBtn(nextPageToken, prevPageToken);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//貼上上一頁的搜尋結果</span></span><br><span class="line">        $(<span class="string">&quot;.results&quot;</span>).html(output);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//貼上按鈕</span></span><br><span class="line">        $(<span class="string">&quot;.buttons&quot;</span>).html(btn);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 功能:製造按鈕</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 按鈕傳遞上一頁/下一頁的token</span></span><br><span class="line"><span class="comment">// 使用判斷是來決定呈現什麼按鈕</span></span><br><span class="line"><span class="comment">// 一樣必須定義q是搜尋欄輸入的內容</span></span><br><span class="line"><span class="comment">// 使用onclick把換頁以及搜尋參數傳入nextPage(),prevPage() function內</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBtn</span>(<span class="params">nextPageToken, prevPageToken</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> q = $(<span class="string">&quot;#inputval&quot;</span>).val();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果沒有下一頁則按鈕不顯示</span></span><br><span class="line">  <span class="keyword">if</span> (nextPageToken === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.buttons&quot;</span>).html();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// 如果沒有上一頁的token則只顯示下一頁</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (prevPageToken === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.buttons&quot;</span>).html(</span><br><span class="line">      <span class="string">`&lt;div class=&quot;button-container&quot;&gt;&lt;button id=&quot;next-button&quot; class=&quot;btn paging-button&quot; data-token=&quot;<span class="subst">$&#123;nextPageToken&#125;</span>&quot; data-query=&quot;<span class="subst">$&#123;q&#125;</span>&quot; onclick=&quot;nextPage();&quot;&gt;Next Page&lt;/button&gt;&lt;/div&gt;`</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//其他都顯示</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $(<span class="string">&quot;.buttons&quot;</span>).html(</span><br><span class="line">      <span class="string">`&lt;div class=&quot;button-container&quot;&gt;&lt;button id=&quot;prev-button&quot; class=&quot;btn paging-button&quot; data-token=&quot;<span class="subst">$&#123;prevPageToken&#125;</span>&quot; data-query=&quot;<span class="subst">$&#123;q&#125;</span>&quot; onclick=&quot;prevPage();&quot;&gt;Prev Page&lt;/button&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;button-container&quot;&gt;&lt;button id=&quot;next-button&quot; class=&quot;btn paging-button&quot; data-token=&quot;<span class="subst">$&#123;nextPageToken&#125;</span>&quot; data-query=&quot;<span class="subst">$&#123;q&#125;</span>&quot; onclick=&quot;nextPage();&quot;&gt;Next Page&lt;/button&gt;&lt;/div&gt; `</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><section class="post-copyright"></section><section class="post-tags"><div><span>Tag(s):</span> <span class="tag"><a href="/tags/jQuery/"># jQuery</a> <a href="/tags/HTML/"># HTML</a> <a href="/tags/CSS/"># CSS</a> <a href="/tags/JavaScript/"># JavaScript</a> <a href="/tags/AJAX/"># AJAX</a></span></div><div><a href="javascript:window.history.back();">back</a> <span>· </span><a href="/">home</a></div></section><section class="post-nav"><a class="prev" rel="prev" href="/2021/03/21/JS-JS%20%E8%AA%9E%E8%A8%80%E5%9F%BA%E7%A4%8E%2001%20%E8%AE%8A%E6%95%B8&%E6%95%B8%E6%93%9A%E5%9E%8B%E6%85%8B/">JS-語言基礎 01 變數&數據型態</a> <a class="next" rel="next" href="/2021/02/27/%5B%E4%BD%9C%E5%93%81%5D10%20JS%20little%20practice/">實作練習-10 JS little practice</a></section></article></div></div><footer id="footer" class="footer"><div class="copyright"><span>© Chieh Liu | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span></div></footer></div></body></html>